<ng-container *ngIf="frame && groupset && wheelset && stem && seatpost && tyres && handlebar && saddle">
  <h1 class="lead" style="text-align: center; margin-bottom: 0.1em; margin-top: 50px; font-size: 5em">Your Build: Total Cost Â£{{buildCost}}</h1>
  <div class="container" style="margin-top: 4em; margin-bottom: 3em">
    <div class="row">
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Frame ({{frame.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=frame.part_img.S alt="frame"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="frame.part_url.S">{{frame.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Groupset ({{groupset.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=groupset.part_img.S  alt="groupset"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="groupset.part_url.S">{{groupset.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Wheelset ({{wheelset.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=wheelset.part_img.S alt="wheelset"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="wheelset.part_url.S">{{wheelset.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Tyres ({{tyres.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=tyres.part_img.S alt="tyres"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="tyres.part_url.S">{{tyres.part_title.S}}</a></div>
        </div>
      </div>
    </div>
    <div class="row" style="margin-top: 2em">
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Seatpost ({{seatpost.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=seatpost.part_img.S alt="seatpost"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="seatpost.part_url.S">{{seatpost.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Saddle ({{saddle.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=saddle.part_img.S alt="saddle"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="saddle.part_url.S">{{saddle.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Stem ({{stem.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=stem.part_img.S alt="stem"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="stem.part_url.S">{{stem.part_title.S}}</a></div>
        </div>
      </div>
      <div class="col-sm">
        <div class="card">
          <div class="card-header" style="text-align: center">Handlebar ({{handlebar.part_price.S}})</div>
          <div class="card-body">
            <img style="display: block; margin: auto; width: 250px; height: 200px" [src]=handlebar.part_img.S alt="bike"/>
          </div>
          <div class="card-footer" style="text-align: center">Buy here: <a target="_blank" [href]="handlebar.part_url.S">{{handlebar.part_title.S}}</a></div>
        </div>
      </div>
    </div>
  </div>
  <ng-container *ngIf="auth.isAuthenticated$ && auth.user$ | async as user; else loggedOut">
    <button type="button" class="btn-success" (click)="saveBuild([frame, groupset, wheelset, stem, seatpost, tyres, handlebar, saddle], user.email, buildCost)" style="display: block; width: 100%;">
      Save Build
    </button>
  </ng-container>
  <ng-template #loggedOut>
    <button type="button" (click)="auth.loginWithRedirect({appState: {target: this.route.url}})" class="btn-success" style="display: block; width: 100%;">
      Log in/Sign up to save build
    </button>
  </ng-template>

</ng-container>

